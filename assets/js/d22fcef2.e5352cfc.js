"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[2005],{15680:(e,t,r)=>{r.d(t,{xA:()=>l,yg:()=>u});var n=r(296540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),d=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=d(r),g=a,u=c["".concat(p,".").concat(g)]||c[g]||m[g]||i;return r?n.createElement(u,o(o({ref:t},l),{},{components:r})):n.createElement(u,o({ref:t},l))}));function u(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=g;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:a,o[1]=s;for(var d=2;d<i;d++)o[d]=r[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},393044:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=r(58168),a=(r(296540),r(15680));const i={title:"SSD and HDD tiered storage",language:"en"},o=void 0,s={unversionedId:"table-design/tiered-storage/diff-disk-medium-migration",id:"table-design/tiered-storage/diff-disk-medium-migration",title:"SSD and HDD tiered storage",description:"\x3c!--",source:"@site/docs/table-design/tiered-storage/diff-disk-medium-migration.md",sourceDirName:"table-design/tiered-storage",slug:"/table-design/tiered-storage/diff-disk-medium-migration",permalink:"/docs/dev/table-design/tiered-storage/diff-disk-medium-migration",draft:!1,tags:[],version:"current",frontMatter:{title:"SSD and HDD tiered storage",language:"en"},sidebar:"docs",previous:{title:"Schema Evolution",permalink:"/docs/dev/table-design/schema-change"},next:{title:"Remote Storage",permalink:"/docs/dev/table-design/tiered-storage/remote-storage"}},p={},d=[],l={toc:d},c="wrapper";function m(e){let{components:t,...r}=e;return(0,a.yg)(c,(0,n.A)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"It is possible to set parameters to create dynamic partitions on the corresponding disk types, while supporting data migration between (HDD, SSD) disk types based on the data's hot and cold characteristics, which can accelerate the read and write performance of Doris."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("inlineCode",{parentName:"p"},"dynamic_partition.hot_partition_num")),(0,a.yg)("p",{parentName:"li"},"Doris supports data migration between different disk types (HDD, SSD) based on the cold/hot characteristics of the data, which can accelerate read and write performance. Users can set partition parameters to create dynamic partitions on the corresponding disk types."),(0,a.yg)("p",{parentName:"li"},"For the 'dynamic_partition' parameter, please refer to ",(0,a.yg)("a",{parentName:"p",href:"/docs/dev/table-design/data-partition#dynamic-partitioning"},"data-partition"),'."'))),(0,a.yg)("p",null,"  :::tip"),(0,a.yg)("p",null,"  If there is no SSD disk path under the storage path, configuring this parameter will cause dynamic partition creation to fail."),(0,a.yg)("p",null,"  :::"),(0,a.yg)("p",null,"  ",(0,a.yg)("inlineCode",{parentName:"p"},"hot_partition_num")," is all partitions in the previous n days and in the future."),(0,a.yg)("p",null,"  Let us give an example. Suppose today is 2021-05-20, partition by day, and the properties of dynamic partition are set to: hot_partition_num=2, end=3, start=-3. Then the system will automatically create the following partitions, and set the ",(0,a.yg)("inlineCode",{parentName:"p"},"storage_medium")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"storage_cooldown_time")," properties:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sql"},'p20210517: ["2021-05-17", "2021-05-18") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\np20210518: ["2021-05-18", "2021-05-19") storage_medium=HDD storage_cooldown_time=9999-12-31 23:59:59\np20210519: ["2021-05-19", "2021-05-20") storage_medium=SSD storage_cooldown_time=2021-05-21 00:00:00\np20210520: ["2021-05-20", "2021-05-21") storage_medium=SSD storage_cooldown_time=2021-05-22 00:00:00\np20210521: ["2021-05-21", "2021-05-22") storage_medium=SSD storage_cooldown_time=2021-05-23 00:00:00\np20210522: ["2021-05-22", "2021-05-23") storage_medium=SSD storage_cooldown_time=2021-05-24 00:00:00\np20210523: ["2021-05-23", "2021-05-24") storage_medium=SSD storage_cooldown_time=2021-05-25 00:00:00\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("inlineCode",{parentName:"p"},"dynamic_partition.storage_medium")),(0,a.yg)("admonition",{parentName:"li",title:"Note",type:"info"},(0,a.yg)("p",{parentName:"admonition"},"This parameteres is supported since Doris version 1.2.3")),(0,a.yg)("p",{parentName:"li"},"Specifies the default storage medium for the created dynamic partition. HDD is the default, SSD can be selected."),(0,a.yg)("p",{parentName:"li"},"Note that when set to SSD, the ",(0,a.yg)("inlineCode",{parentName:"p"},"hot_partition_num")," property will no longer take effect, all partitions will default to SSD storage media and the cooldown time will be 9999-12-31 23:59:59."))))}m.isMDXComponent=!0}}]);